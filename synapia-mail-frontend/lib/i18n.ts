import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Translation resources
const resources = {
  en: {
    translation: {
      appName: 'SynapIA Mail Assistant',
      emailConnections: 'Email Connections',
      connectYourEmail: 'Connect your email accounts to start categorizing emails automatically.',
      connectedAccounts: 'Connected Accounts',
      connectAdditionalAccounts: 'Connect Additional Accounts',
      connectFirstEmailAccount: 'Connect Your First Email Account',
      connectAccount: 'Connect {{provider}}',
      connecting: 'Connecting...',
      comingSoon: 'Coming Soon',
      disconnect: 'Disconnect',
      disconnectConfirm: 'Are you sure you want to disconnect this email account?',
      emailAccountDisconnected: 'Email account disconnected successfully',
      failedToDisconnect: 'Failed to disconnect email account',
      failedToConnect: 'Failed to connect. Please check your internet connection and try again.',
      secureOauthConnection: 'Secure OAuth connection • Your data stays private',
      loadingEmailConnections: 'Loading email connections...',
      connected: 'Connected',
      lastSync: 'Last sync',
      totalSyncs: 'Total syncs',
      privacyFirstEmailProcessing: 'Privacy-First Email Processing',
      emailContentNeverStored: 'Email content is never stored in our database',
      onlyMetadataSaved: 'Only metadata (subject, sender, timestamps) is saved',
      processingInMemory: 'Processing happens in memory for categorization',
      oauthTokensEncrypted: 'OAuth tokens are encrypted and stored securely',
      disconnectAnytime: 'You can disconnect and delete your data anytime',
      microsoftOutlook: 'Microsoft Outlook',
      microsoftOutlookDesc: 'Connect your Outlook or Hotmail account',
      googleGmail: 'Google Gmail',
      googleGmailDesc: 'Connect your Gmail account',
      yahooMail: 'Yahoo Mail',
      yahooMailDesc: 'Connect your Yahoo Mail account',
      appleIcloud: 'Apple iCloud',
      appleIcloudDesc: 'Connect your iCloud Mail account',
      emailCategorization: 'Email categorization',
      automaticProcessing: 'Automatic processing',
      secureTokenStorage: 'Secure token storage',
      gmailComingSoon: 'Gmail integration in development',
      yahooComingSoon: 'Yahoo integration in development',
      icloudComingSoon: 'iCloud integration in development',
      cycleThemes: 'Cycle Themes',
      privacyPolicy: 'Privacy Policy',
      termsOfService: 'Terms of Service',
      gdprComplianceSummary: 'GDPR Compliance Summary',
      dataSubjectRights: 'Data Subject Rights',
      lawfulProcessing: 'Lawful Processing',
      dataMinimization: 'Data Minimization',
      securityMeasures: 'Security Measures',
      signInToAccount: 'Sign in to your account',
      signIn: 'Sign in',
      invalidCredentials: 'Invalid email or password',
      email: 'Email',
      password: 'Password',
      loading: 'Loading...',
      welcome: 'Welcome',
      signOut: 'Sign out',
      categories: 'Categories',
      subscription: 'Subscription',
      noCategories: 'No categories found',
      addCategory: 'Add Category',
      editCategory: 'Edit Category',
      categoryManagement: 'Category Management',
      categoryName: 'Category Name',
      categoryDescription: 'Category Description',
      unauthorized: 'Unauthorized access',
      validationError: 'Validation error',
      confirmDeleteCategory: 'Are you sure you want to delete this category?',
      update: 'Update',
      create: 'Create',
      cancel: 'Cancel',
      edit: 'Edit',
      delete: 'Delete',
      lowCreditsWarning: 'Low credits warning',
      noEmails: 'No emails found',
      accountInfo: 'Account Information',
      active: 'Active',
      categorizeNewEmails: 'Categorize New Emails',
      categorizing: 'Categorizing...',
      creditsConsumed: 'Credits Consumed',
      creditsRemaining: 'Credits Remaining',
      creditsReset: 'Credits Reset',
      creditUsage: 'Credit Usage',
      error: 'Error',
      from: 'From',
      howCreditsWork: 'How Credits Work',
      inactive: 'Inactive',
      insufficientCredits: 'Insufficient Credits',
      networkError: 'Network Error',
      notCategorized: 'Not Categorized',
      organization: 'Organization',
      plan: 'Plan',
      received: 'Received',
      serviceBlocked: 'Service Blocked',
      status: 'Status',
      subscriptionStatus: 'Subscription Status',
      success: 'Success',
      supportEmail: 'Support Email',
      tab: 'Tab',
      upgradeMessage: 'Upgrade Message',
    },
  },
  fr: {
    translation: {
      appName: 'Assistant Mail SynapIA',
      emailConnections: 'Connexions Email',
      connectYourEmail: 'Connectez vos comptes email pour commencer à catégoriser vos emails automatiquement.',
      connectedAccounts: 'Comptes Connectés',
      connectAdditionalAccounts: 'Connecter des Comptes Supplémentaires',
      connectFirstEmailAccount: 'Connectez Votre Premier Compte Email',
      connectAccount: 'Connecter {{provider}}',
      connecting: 'Connexion en cours...',
      comingSoon: 'Bientôt disponible',
      disconnect: 'Déconnecter',
      disconnectConfirm: 'Êtes-vous sûr de vouloir déconnecter ce compte email ?',
      emailAccountDisconnected: 'Compte email déconnecté avec succès',
      failedToDisconnect: 'Échec de la déconnexion du compte email',
      failedToConnect: 'Échec de la connexion. Vérifiez votre connexion internet et réessayez.',
      secureOauthConnection: 'Connexion OAuth sécurisée • Vos données restent privées',
      loadingEmailConnections: 'Chargement des connexions email...',
      connected: 'Connecté',
      lastSync: 'Dernière synchronisation',
      totalSyncs: 'Total des synchronisations',
      privacyFirstEmailProcessing: 'Traitement des Emails Respectueux de la Vie Privée',
      emailContentNeverStored: 'Le contenu des emails n\'est jamais stocké dans notre base de données',
      onlyMetadataSaved: 'Seules les métadonnées (objet, expéditeur, horodatages) sont sauvegardées',
      processingInMemory: 'Le traitement se fait en mémoire pour la catégorisation',
      oauthTokensEncrypted: 'Les jetons OAuth sont chiffrés et stockés de manière sécurisée',
      disconnectAnytime: 'Vous pouvez vous déconnecter et supprimer vos données à tout moment',
      microsoftOutlook: 'Microsoft Outlook',
      microsoftOutlookDesc: 'Connectez votre compte Outlook ou Hotmail',
      googleGmail: 'Google Gmail',
      googleGmailDesc: 'Connectez votre compte Gmail',
      yahooMail: 'Yahoo Mail',
      yahooMailDesc: 'Connectez votre compte Yahoo Mail',
      appleIcloud: 'Apple iCloud',
      appleIcloudDesc: 'Connectez votre compte iCloud Mail',
      emailCategorization: 'Catégorisation des emails',
      automaticProcessing: 'Traitement automatique',
      secureTokenStorage: 'Stockage sécurisé des jetons',
      gmailComingSoon: 'Intégration Gmail en développement',
      yahooComingSoon: 'Intégration Yahoo en développement',
      icloudComingSoon: 'Intégration iCloud en développement',
      cycleThemes: 'Changer de Thèmes',
      privacyPolicy: 'Politique de Confidentialité',
      termsOfService: 'Conditions d\'Utilisation',
      gdprComplianceSummary: 'Résumé de Conformité RGPD',
      dataSubjectRights: 'Droits des Personnes Concernées',
      lawfulProcessing: 'Traitement Légal',
      dataMinimization: 'Minimisation des Données',
      securityMeasures: 'Mesures de Sécurité',
      signInToAccount: 'Connectez-vous à votre compte',
      signIn: 'Se connecter',
      invalidCredentials: 'Email ou mot de passe invalide',
      email: 'Email',
      password: 'Mot de passe',
      loading: 'Chargement...',
      welcome: 'Bienvenue',
      signOut: 'Se déconnecter',
      categories: 'Catégories',
      subscription: 'Abonnement',
      noCategories: 'Aucune catégorie trouvée',
      addCategory: 'Ajouter une Catégorie',
      editCategory: 'Modifier la Catégorie',
      categoryManagement: 'Gestion des Catégories',
      categoryName: 'Nom de la Catégorie',
      categoryDescription: 'Description de la Catégorie',
      unauthorized: 'Accès non autorisé',
      validationError: 'Erreur de validation',
      confirmDeleteCategory: 'Êtes-vous sûr de vouloir supprimer cette catégorie ?',
      update: 'Mettre à jour',
      create: 'Créer',
      cancel: 'Annuler',
      edit: 'Modifier',
      delete: 'Supprimer',
      lowCreditsWarning: 'Avertissement de crédits faibles',
      noEmails: 'Aucun email trouvé',
      accountInfo: 'Informations du Compte',
      active: 'Actif',
      categorizeNewEmails: 'Catégoriser les Nouveaux Emails',
      categorizing: 'Catégorisation...',
      creditsConsumed: 'Crédits Consommés',
      creditsRemaining: 'Crédits Restants',
      creditsReset: 'Réinitialisation des Crédits',
      creditUsage: 'Utilisation des Crédits',
      error: 'Erreur',
      from: 'De',
      howCreditsWork: 'Comment Fonctionnent les Crédits',
      inactive: 'Inactif',
      insufficientCredits: 'Crédits Insuffisants',
      networkError: 'Erreur Réseau',
      notCategorized: 'Non Catégorisé',
      organization: 'Organisation',
      plan: 'Plan',
      received: 'Reçu',
      serviceBlocked: 'Service Bloqué',
      status: 'Statut',
      subscriptionStatus: 'Statut de l\'Abonnement',
      success: 'Succès',
      supportEmail: 'Email de Support',
      tab: 'Onglet',
      upgradeMessage: 'Message de Mise à Niveau',
    },
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    debug: process.env.NODE_ENV === 'development',

    // Language detection options
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
      // Convert en-US to en, fr-FR to fr, etc.
      convertDetectedLanguage: (lng) => lng.split('-')[0],
    },

    interpolation: {
      escapeValue: false, // React already does escaping
    },

    react: {
      useSuspense: false,
    },
  });

export default i18n;
